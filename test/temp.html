<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <canvas></canvas>
  <script src="../bin/impro.js"></script>
  <script>
ImPro.negativeProcess = new ImPro.Process('Negative', {},
  {'Image': [ImPro.Uint8ClampedGrayImage]},
  {'Image': [ImPro.Uint8ClampedGrayImage]},
  function(inputs) {
    var inputImage = inputs.Image;

    var outputImage = new ImPro.Uint8ClampedGrayImage(inputImage.width, inputImage.height);

    for (var t = 0, tt = inputImage.length; t < tt; ++t) {
      outputImage.data[t] = 0xff - inputImage.data[t];
    }

    return {'Image': outputImage};
  }
);

var i = new ImPro.Uint8ClampedGrayImage(3, 3, [0, 128, 255, 64, 192, 32, 96, 160, 224])
console.dir(i);
var o = ImPro.negativeProcess.run({'Image': i})['Image'];
console.dir(o);
  </script>
</body>
</html>
