/*! impro.js 20-03-2018 */

"use strict";var ImPro;!function(t){t.extends=function(r,t){return t.prototype=function(t,n){function e(){this.constructor=n.prototype.constructor}return e.prototype=r.prototype,new e}(0,t),t.prototype.ParentClass=r,t},t.super=function(t,n){t.ParentClass.apply(t,n)}}(ImPro=new function(){this.init=function(){}}),function(i){function t(r,a){return i.extends(i.AbstractImage,function(t,n,e){i.super(this,[r,a,t,n,e])})}for(var n in i.dataTypes=["Uint8Clamped","Uint8","Uint16","Uint32","Int8","Int16","Int32","Float32","Float64"],i.AbstractImage=function(t,n,e,r,a){var i=window[t+"Array"];this.dataType=t,this.arrayType=i,this.channels=n,this.width=e,this.height=r,this.dx=n,this.dy=e*n,this.length=e*r*n,this.data=new i(this.length),(a instanceof i||a instanceof Array)&&this.data.set(a)},i.dataTypes){var e=i.dataTypes[n];i[e+"GrayImage"]=t(e,1),i[e+"RgbImage"]=t(e,3),i[e+"RgbaImage"]=t(e,4)}}(ImPro),function(i){this.BooleanProcessParam=this.extends(function(t,n,e,r){},function(t,n){this.super(this,["boolean",t,n,{}])}),this.Process=function(t,n,e,r,a){this.name=t,this.paramConfigs=n,this.inputConfigs=e,this.outputConfigs=r,this.run=function(t,n){if(1!==Object.keys(t).length)throw new Error("Wrong argument count");if(!t.Image)throw new Error('Missing argument "Image"');if(!(t.Image instanceof i.Uint8ClampedGrayImage))throw new Error('Invalid type for argument "Image');return a(t,n)}},this.testProcess=new this.Process("Test process",{Image:{type:[this.Uint8ClampedGrayImage]}},{Image:{type:[this.Uint8ClampedGrayImage]}},function(t){if(1!==Object.keys(t).length)throw new Error("Wrong argument count");if(!t.Image)throw new Error('Missing argument "Image"');if(!(t.Image instanceof i.Uint8ClampedGrayImage))throw new Error('Invalid type for argument "Image');for(var n=t.Image,e=new i.Uint8ClampedGrayImage(n.width,n.height),r=0,a=n.length;r<a;++r)e.data[r]=255-n.data[r];return{Image:e}})}(ImPro);